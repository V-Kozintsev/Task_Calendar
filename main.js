(()=>{"use strict";var e={364:(e,t,n)=>{n.r(t)},617:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LSCalendarApi=void 0,t.LSCalendarApi=class{constructor(){this.currentDate=new Date,this.TaskKey="tasks",this.currentDate=new Date,this.month=this.currentDate.getMonth(),this.year=this.currentDate.getFullYear()}getTasks(){const e=localStorage.getItem(this.TaskKey);if(e)try{const t=JSON.parse(e);if(Array.isArray(t))return t;console.error("Retrieved data is not an array.",t),this.clearTasks()}catch(e){console.error("Error parsing JSON from localStorage:",e),this.clearTasks()}return[]}saveTask(e){const t=this.getTasks();Array.isArray(t)?(t.push(e),localStorage.setItem(this.TaskKey,JSON.stringify(t))):console.error("Retrieved data is not an array.",t)}clearTasks(){localStorage.removeItem(this.TaskKey)}}},300:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RunTask=void 0;const a=n(617);t.RunTask=new a.LSCalendarApi},10:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function c(e){try{i(a.next(e))}catch(e){r(e)}}function s(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.dateClicked=t.selected=void 0,t.currentClickDiv=function(e){return a(this,void 0,void 0,(function*(){const n=document.querySelector(".dateMonthYear"),a=new Date(o.RunTask.year,o.RunTask.month).toLocaleDateString("ru-Ru",{month:"numeric",year:"numeric"});let r;const c=document.getElementById("title"),s=document.querySelector(".popup"),i=document.querySelector(".window-background");e.addEventListener("click",(o=>{var l;o.target.classList.contains("taskInCells")||(o.stopPropagation(),t.selected=e,s&&i&&(s.style.display="flex",i.style.display="block",c.value="",r=null===(l=t.selected.firstElementChild)||void 0===l?void 0:l.textContent,n.textContent=`${r}.${a}`)),t.dateClicked=`${r}.${a}`}));const l=document.querySelector(".close-btn");null==l||l.addEventListener("click",(e=>{e.stopPropagation(),s&&i&&(s.style.display="none",i.style.display="none")})),null==i||i.addEventListener("click",(()=>{s&&(s.style.display="none",i.style.display="none")}))}))};const o=n(300)},156:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function c(e){try{i(a.next(e))}catch(e){r(e)}}function s(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.currentMonth=void 0,t.renderCalendar=d,n(364);const o=n(300),r=n(984),c=n(10),s=n(418),i=n(587);t.currentMonth=document.getElementById("month");const l=document.getElementById("task");function d(){return a(this,void 0,void 0,(function*(){const e=document.querySelector(".container_calendar__box-day");e.innerHTML="";const n=new Date(o.RunTask.year,o.RunTask.month,1).getDay(),a=new Date(o.RunTask.year,o.RunTask.month+1,0).getDate(),i=(n+6)%7;let l=new Date(o.RunTask.year,o.RunTask.month,0).getDate()-i,d=0,u=1;const y=new Date,m=y.getDate(),v=y.toLocaleDateString("ru-Ru",{month:"long",year:"numeric"});for(let t=1;t<=i;t++){d++;const t=document.createElement("div");t.className="days daysPrevNext",l+=1,t.textContent=l.toString(),null==e||e.appendChild(t)}yield(0,r.updateMonthYearDisplay)();for(let n=1;n<=a;n++){const a=document.createElement("div");a.className="days",null==e||e.appendChild(a);const o=document.createElement("div");o.className="date",o.textContent=n.toString(),a.appendChild(o),console.log(),v===t.currentMonth.textContent&&m===n&&(o.className="date curDate"),yield(0,c.currentClickDiv)(a)}for(let t=a+d;t<42;t++){const t=document.createElement("div");t.className="days daysPrevNext",null==e||e.appendChild(t);const n=document.createElement("div");n.className="date",n.textContent=u.toString(),u++,t.appendChild(n),(0,c.currentClickDiv)(t)}yield(0,s.saveBtnTask)()}))}d(),(0,i.nextMonth)(),(0,i.prevMonth)(),l.addEventListener("click",(e=>{e.preventDefault(),function(){const e=document.getElementById("task-block"),t=document.querySelector(".window-background"),n=document.querySelector(".close-btn-task");e&&t&&(e.style.display="block",t.style.display="block"),null==n||n.addEventListener("click",(n=>{n.stopPropagation(),e&&t&&(e.style.display="none",t.style.display="none")})),null==t||t.addEventListener("click",(()=>{e&&(e.style.display="none",t.style.display="none")}))}()}))},587:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nextMonth=function(){var e;null===(e=document.getElementById("nextBtn"))||void 0===e||e.addEventListener("click",(()=>{a.RunTask.month++,a.RunTask.month>11&&(a.RunTask.month=0,a.RunTask.year++),(0,o.renderCalendar)()}))},t.prevMonth=function(){var e;null===(e=document.getElementById("prevBtn"))||void 0===e||e.addEventListener("click",(()=>{a.RunTask.month--,a.RunTask.month<0&&(a.RunTask.month=11,a.RunTask.year--),(0,o.renderCalendar)()}))};const a=n(300),o=n(156)},418:function(e,t,n){var a,o,r=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function c(e){try{i(a.next(e))}catch(e){r(e)}}function s(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.saveBtnTask=function(){return r(this,void 0,void 0,(function*(){var e;const t=document.querySelector(".popup"),n=document.querySelector(".window-background");null===(e=document.getElementById("btnSave"))||void 0===e||e.addEventListener("click",(e=>{const a=document.getElementById("title"),o=document.getElementById("task-description"),r=a.value.trim(),l=o.value.trim();if(e.preventDefault(),r){const e=document.createElement("div");e.className="taskInCells",s.selected.appendChild(e),e.textContent=r,t.style.display="none",n.style.display="none";const d=crypto.randomUUID();c.RunTask.saveTask({id:d,title:r,description:l,date:s.dateClicked}),i(r,l,s.dateClicked),a.value="",o.value=""}}))}))};const c=n(300),s=n(10);function i(e,t,n){const a=document.getElementById("box-task"),o=document.createElement("div");o.className="item-task",null==a||a.appendChild(o);const r=document.createElement("div");r.className="title-task",r.innerText=e,o.appendChild(r);const c=document.createElement("div");c.className="description-task",c.innerText=t,o.appendChild(c);const s=document.createElement("div");s.className="date-task",s.innerText=n,o.appendChild(s)}window.onload=function(){c.RunTask.getTasks().forEach((e=>{i(e.title,e.description,e.date)}))},null===(a=document.querySelector(".read"))||void 0===a||a.addEventListener("click",(()=>{console.log(c.RunTask.getTasks())})),null===(o=document.querySelector(".delete"))||void 0===o||o.addEventListener("click",(()=>{c.RunTask.clearTasks()}))},984:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,r){function c(e){try{i(a.next(e))}catch(e){r(e)}}function s(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateMonthYearDisplay=function(){return a(this,void 0,void 0,(function*(){const e=new Date(o.RunTask.year,o.RunTask.month);r.currentMonth.textContent=e.toLocaleDateString("ru-RU",{month:"long",year:"numeric"})}))};const o=n(300),r=n(156)}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(156)})();