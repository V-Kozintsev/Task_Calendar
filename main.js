(()=>{"use strict";var e={364:(e,t,n)=>{n.r(t)},617:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LSCalendarApi=void 0,t.LSCalendarApi=class{constructor(){this.currentDate=new Date,this.TaskKey="tasks",this.currentDate=new Date,this.month=this.currentDate.getMonth(),this.year=this.currentDate.getFullYear()}getTasks(){const e=localStorage.getItem(this.TaskKey);if(e)try{const t=JSON.parse(e);if(Array.isArray(t))return t;console.error("Retrieved data is not an array.",t),this.clearTasks()}catch(e){console.error("Error parsing JSON from localStorage:",e),this.clearTasks()}return[]}saveTask(e){const t=this.getTasks();Array.isArray(t)?(t.push(e),localStorage.setItem(this.TaskKey,JSON.stringify(t))):console.error("Retrieved data is not an array.",t)}clearTasks(){localStorage.removeItem(this.TaskKey)}}},300:(e,t,n)=>{var o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.RunTask=void 0;const r=n(617);t.RunTask=new r.LSCalendarApi,null===(o=document.querySelector(".read"))||void 0===o||o.addEventListener("click",(()=>{const e=document.createElement("div");e.className="newTask",e&&(e.textContent="212121")})),null===(a=document.querySelector(".delete"))||void 0===a||a.addEventListener("click",(()=>{t.RunTask.clearTasks()}))},10:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function c(e){try{s(o.next(e))}catch(e){r(e)}}function i(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.dateClicked=t.selected=void 0,t.currentClickDiv=function(e){return o(this,void 0,void 0,(function*(){const n=document.querySelector(".dateMonthYear"),o=new Date(a.RunTask.year,a.RunTask.month).toLocaleDateString("ru-Ru",{month:"numeric",year:"numeric"});let r;const c=document.getElementById("title"),i=document.querySelector(".popup"),s=document.querySelector(".window-background");e.addEventListener("click",(a=>{var l;a.target.classList.contains("taskInCells")||(a.stopPropagation(),t.selected=e,i&&s&&(i.style.display="flex",s.style.display="block",c.value="",r=null===(l=t.selected.firstElementChild)||void 0===l?void 0:l.textContent,n.textContent=`${r}.${o}`)),t.dateClicked=`${r}.${o}`}));const l=document.querySelector(".close-btn");null==l||l.addEventListener("click",(e=>{e.stopPropagation(),i&&s&&(i.style.display="none",s.style.display="none")})),null==s||s.addEventListener("click",(()=>{i&&(i.style.display="none",s.style.display="none")}))}))};const a=n(300)},156:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function c(e){try{s(o.next(e))}catch(e){r(e)}}function i(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.currentMonth=void 0,t.renderCalendar=l,n(364);const a=n(300),r=n(984),c=n(10),i=n(418),s=n(587);function l(){return o(this,void 0,void 0,(function*(){const e=document.querySelector(".container_calendar__box-day");e.innerHTML="";const n=new Date(a.RunTask.year,a.RunTask.month,1).getDay(),o=new Date(a.RunTask.year,a.RunTask.month+1,0).getDate(),s=(n+6)%7;let l=new Date(a.RunTask.year,a.RunTask.month,0).getDate()-s,u=0,d=1;const y=new Date,v=y.getDate(),m=y.toLocaleDateString("ru-Ru",{month:"long",year:"numeric"});for(let t=1;t<=s;t++){u++;const t=document.createElement("div");t.className="days daysPrevNext",l+=1,t.textContent=l.toString(),null==e||e.appendChild(t)}yield(0,r.updateMonthYearDisplay)();for(let n=1;n<=o;n++){const o=document.createElement("div");o.className="days",null==e||e.appendChild(o);const a=document.createElement("div");a.className="date",a.textContent=n.toString(),o.appendChild(a),console.log(),m===t.currentMonth.textContent&&v===n&&(a.className="date curDate"),yield(0,c.currentClickDiv)(o)}for(let t=o+u;t<42;t++){const t=document.createElement("div");t.className="days daysPrevNext",null==e||e.appendChild(t);const n=document.createElement("div");n.className="date",n.textContent=d.toString(),d++,t.appendChild(n),(0,c.currentClickDiv)(t)}yield(0,i.saveBtnTask)()}))}t.currentMonth=document.getElementById("month"),l(),(0,s.nextMonth)(),(0,s.prevMonth)()},587:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nextMonth=function(){var e;null===(e=document.getElementById("nextBtn"))||void 0===e||e.addEventListener("click",(()=>{o.RunTask.month++,o.RunTask.month>11&&(o.RunTask.month=0,o.RunTask.year++),(0,a.renderCalendar)()}))},t.prevMonth=function(){var e;null===(e=document.getElementById("prevBtn"))||void 0===e||e.addEventListener("click",(()=>{o.RunTask.month--,o.RunTask.month<0&&(o.RunTask.month=11,o.RunTask.year--),(0,a.renderCalendar)()}))};const o=n(300),a=n(156)},418:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function c(e){try{s(o.next(e))}catch(e){r(e)}}function i(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.saveBtnTask=function(){return o(this,void 0,void 0,(function*(){var e;const t=document.querySelector(".popup"),n=document.querySelector(".window-background");null===(e=document.getElementById("btnSave"))||void 0===e||e.addEventListener("click",(e=>{const o=document.getElementById("title"),c=document.getElementById("task-description"),i=o.value.trim(),s=c.value.trim();if(e.preventDefault(),i){const e=document.createElement("div");e.className="taskInCells",r.selected.appendChild(e),e.textContent=i,t.style.display="none",n.style.display="none";const l=crypto.randomUUID();a.RunTask.saveTask({id:l,title:i,description:s,date:r.dateClicked}),o.value="",c.value="",console.log("ЗАПИСАЛ"),console.log(r.dateClicked)}}))}))};const a=n(300),r=n(10)},984:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function c(e){try{s(o.next(e))}catch(e){r(e)}}function i(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateMonthYearDisplay=function(){return o(this,void 0,void 0,(function*(){const e=new Date(a.RunTask.year,a.RunTask.month);r.currentMonth.textContent=e.toLocaleDateString("ru-RU",{month:"long",year:"numeric"})}))};const a=n(300),r=n(156)}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(156)})();