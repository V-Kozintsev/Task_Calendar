(()=>{"use strict";var e={364:(e,t,n)=>{n.r(t)},617:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function c(e){try{i(o.next(e))}catch(e){a(e)}}function l(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LSCalendarApi=void 0,t.LSCalendarApi=class{constructor(){this.TaskKey="tasks"}getTasks(){return n(this,void 0,void 0,(function*(){const e=localStorage.getItem(this.TaskKey);if(e)try{const t=JSON.parse(e);if(Array.isArray(t))return t;console.error("Retrieved data is not an array.",t),this.clearTasks()}catch(e){console.error("Error parsing JSON from localStorage:",e),this.clearTasks()}return[]}))}saveTask(e){return n(this,void 0,void 0,(function*(){const t=yield this.getTasks();Array.isArray(t)?(t.push(e),localStorage.setItem(this.TaskKey,JSON.stringify(t))):console.error("Retrieved data is not an array.",t)}))}clearTasks(){return n(this,void 0,void 0,(function*(){localStorage.removeItem(this.TaskKey)}))}}},300:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.currentDateHolder=t.RunTask=void 0;const o=n(617);t.RunTask=new o.LSCalendarApi,t.currentDateHolder=new class{constructor(){const e=new Date;this.month=e.getMonth(),this.year=e.getFullYear()}}},10:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function c(e){try{i(o.next(e))}catch(e){a(e)}}function l(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.dateClicked=t.selected=void 0,t.currentClickDiv=function(e){return o(this,void 0,void 0,(function*(){const n=document.querySelector(".dateMonthYear"),o=new Date(r.currentDateHolder.year,r.currentDateHolder.month).toLocaleDateString("ru-Ru",{month:"numeric",year:"numeric"});let a;const c=document.getElementById("title"),l=document.querySelector(".popup"),i=document.querySelector(".window-background");e.addEventListener("click",(r=>{var d;r.target.classList.contains("taskInCells")||(r.stopPropagation(),t.selected=e,l&&i&&(l.style.display="flex",i.style.display="block",c.value="",a=null===(d=t.selected.firstElementChild)||void 0===d?void 0:d.textContent,n.textContent=`${a}.${o}`)),t.dateClicked=`${a}.${o}`}));const d=document.querySelector(".close-btn");null==d||d.addEventListener("click",(e=>{e.stopPropagation(),l&&i&&(l.style.display="none",i.style.display="none")})),null==i||i.addEventListener("click",(()=>{l&&(l.style.display="none",i.style.display="none")}))}))};const r=n(300)},587:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nextMonth=function(){var e;null===(e=document.getElementById("nextBtn"))||void 0===e||e.addEventListener("click",(()=>{o.currentDateHolder.month++,o.currentDateHolder.month>11&&(o.currentDateHolder.month=0,o.currentDateHolder.year++),(0,r.renderCalendar)()}))},t.prevMonth=function(){var e;null===(e=document.getElementById("prevBtn"))||void 0===e||e.addEventListener("click",(()=>{o.currentDateHolder.month--,o.currentDateHolder.month<0&&(o.currentDateHolder.month=11,o.currentDateHolder.year--),(0,r.renderCalendar)()}))};const o=n(300),r=n(888)},888:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function c(e){try{i(o.next(e))}catch(e){a(e)}}function l(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.renderCalendar=function(){return o(this,void 0,void 0,(function*(){document.getElementById("task").addEventListener("click",(e=>{e.preventDefault(),(0,l.taskWindow)()}));const e=document.getElementById("month"),t=document.querySelector(".container_calendar__box-day");t.innerHTML="";const n=new Date(r.currentDateHolder.year,r.currentDateHolder.month,1).getDay(),o=new Date(r.currentDateHolder.year,r.currentDateHolder.month+1,0).getDate(),i=(n+6)%7;let d=new Date(r.currentDateHolder.year,r.currentDateHolder.month,0).getDate()-i,s=0,u=1;const y=new Date,m=y.getDate(),v=y.toLocaleDateString("ru-Ru",{month:"long",year:"numeric"});for(let e=1;e<=i;e++){s++;const e=document.createElement("div");e.className="days daysPrevNext",d+=1,e.textContent=d.toString(),null==t||t.appendChild(e)}!function(){const t=new Date(r.currentDateHolder.year,r.currentDateHolder.month);e.textContent=t.toLocaleDateString("ru-RU",{month:"long",year:"numeric"})}();for(let n=1;n<=o;n++){const o=document.createElement("div");o.className="days",null==t||t.appendChild(o),o.setAttribute("data-date",`${n}.${r.currentDateHolder.month+1}.${r.currentDateHolder.year}`);const c=document.createElement("div");c.className="date",c.textContent=n.toString(),o.appendChild(c),console.log(),v===e.textContent&&m===n&&(c.className="date curDate"),yield(0,a.currentClickDiv)(o)}for(let e=o+s;e<42;e++){const e=document.createElement("div");e.className="days daysPrevNext",null==t||t.appendChild(e);const n=document.createElement("div");n.className="date",n.textContent=u.toString(),u++,e.appendChild(n),(0,a.currentClickDiv)(e)}yield(0,c.saveBtnTask)()}))};const r=n(300),a=n(10),c=n(418),l=n(379)},418:function(e,t,n){var o,r,a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function c(e){try{i(o.next(e))}catch(e){a(e)}}function l(e){try{i(o.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,l)}i((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.saveBtnTask=function(){return a(this,void 0,void 0,(function*(){var e;const t=document.querySelector(".popup"),n=document.querySelector(".window-background");null===(e=document.getElementById("btnSave"))||void 0===e||e.addEventListener("click",(e=>{const o=document.getElementById("title"),r=document.getElementById("task-description"),a=o.value.trim(),d=r.value.trim();if(e.preventDefault(),a){t.style.display="none",n.style.display="none";const e=crypto.randomUUID();c.RunTask.saveTask({id:e,title:a,description:d,date:l.dateClicked}),i(a,d,l.dateClicked),o.value="",r.value=""}}))}))};const c=n(300),l=n(10);function i(e,t,n){!function(e,t,n){const o=document.getElementById("box-task"),r=document.createElement("div");r.className="item-task",null==o||o.appendChild(r);const a=document.createElement("div");a.className="title-task",a.innerText=e,r.appendChild(a);const c=document.createElement("div");c.className="description-task",c.innerText=t,r.appendChild(c);const l=document.createElement("div");l.className="date-task",l.innerText=n,r.appendChild(l)}(e,t,n),function(e,t,n){const o=document.querySelector(`[data-date="${n}"]`);if(o){const t=document.createElement("div");t.className="taskInCells",o.appendChild(t),t.textContent=e}}(e,0,n)}window.onload=function(){c.RunTask.getTasks().then((e=>e.forEach((e=>{i(e.title,e.description,e.date)}))))},null===(o=document.querySelector(".read"))||void 0===o||o.addEventListener("click",(()=>{console.log(c.RunTask.getTasks())})),null===(r=document.querySelector(".delete"))||void 0===r||r.addEventListener("click",(()=>{c.RunTask.clearTasks()}))},379:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.taskWindow=function(){const e=document.getElementById("task-block"),t=document.querySelector(".window-background"),n=document.querySelector(".close-btn-task");e&&t&&(e.style.display="block",t.style.display="block"),null==n||n.addEventListener("click",(n=>{n.stopPropagation(),e&&t&&(e.style.display="none",t.style.display="none")})),null==t||t.addEventListener("click",(()=>{e&&(e.style.display="none",t.style.display="none")}))}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(364);const e=n(587);(0,n(888).renderCalendar)(),(0,e.nextMonth)(),(0,e.prevMonth)()})()})();