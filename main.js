(()=>{"use strict";var e={364:(e,t,n)=>{n.r(t)}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,n),l.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n(364);const t=document.getElementById("dates"),o=document.querySelector(".popup"),a=document.querySelector(".box-task"),l=document.querySelector(".box-btn"),d=document.getElementById("overlay"),r=new Date,c=document.getElementById("monthYear"),i=document.getElementById("nextMonth"),s=document.getElementById("prevMonth"),u=document.querySelector(".task-title"),m=document.getElementById("task-description");let v=null,p=null;const g=JSON.parse(localStorage.getItem("taskLocal")||"[]"),y=document.getElementById("save-task-btn");function f(){a&&l&&(a.innerHTML="",l.innerHTML="",u&&m&&(u.value="",m.value=""),g.filter((e=>e.date===v)).forEach((e=>{const t=document.createElement("div");t.className="added-task",t.textContent=`${e.title}: ${e.description}`,a.appendChild(t);const n=document.createElement("button");n.textContent="Удалить",n.addEventListener("click",(()=>{var t;t=g.indexOf(e),g.splice(t,1),localStorage.setItem("taskLocal",JSON.stringify(g)),f()})),l.appendChild(n);const o=document.createElement("button");o.textContent="Редактировать",o.addEventListener("click",(()=>{p=g.indexOf(e),u&&m&&(u.value=e.title,m.value=e.description)})),l.appendChild(o)})))}function h(){if(!t||!c)return;t.innerHTML="";const e=r.getMonth(),n=r.getFullYear(),a=new Date(n,e+1,0).getDate(),l=(new Date(n,e,1).getDay()+6)%7;c.textContent=r.toLocaleDateString("ru-RU",{month:"long",year:"numeric"});for(let e=0;e<l;e++){const e=document.createElement("div");e.className="days",t.appendChild(e)}for(let l=1;l<=a;l++){const a=document.createElement("div");a.className="days",a.textContent=l.toString();const r=`${n}-${String(e+1).padStart(2,"0")}-${String(l).padStart(2,"0")}`,c=g.filter((e=>e.date===r));c.length>0&&c.forEach((e=>{const t=document.createElement("div");t.className="task-indicator",t.textContent=e.title,a.appendChild(t)})),t.appendChild(a),a.addEventListener("click",(()=>{d&&o&&(d.classList.add("show"),o.classList.add("show"),v=r,f())}))}}i&&i.addEventListener("click",(()=>{r.setMonth(r.getMonth()+1),h()})),s&&s.addEventListener("click",(()=>{r.setMonth(r.getMonth()-1),h()})),null===(e=document.querySelector(".close-btn"))||void 0===e||e.addEventListener("click",(()=>{d&&o&&(d.classList.remove("show"),o.classList.remove("show"))})),y&&y.addEventListener("click",(()=>{const e=u?u.value.trim():"",t=m?m.value.trim():"";if(e&&v){if(null!==p)g[p].title=e,g[p].description=t;else{if(g.find((e=>e.date===v)))return void alert("На эту дату задача уже добавлена");const n={title:e,description:t,date:v};g.push(n)}localStorage.setItem("taskLocal",JSON.stringify(g)),f(),u&&m&&(u.value="",m.value=""),p=null}else alert("Введите название задачи и выберите дату.")})),h()})()})();